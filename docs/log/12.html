<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset=UTF-8>
  <link rel="stylesheet" type="text/css" href="../style.css">
  <title>12 - Almost There | Log</title>
</head>

<body>

<h1>12 - Almost There</h1>

<p>The solution to the problem with calling the <code>getPass(int _id)</code> method was, like the <code>addPass(...)</code> method to do with the options passed in call/send.</p>

<p>Looking at the <a href="https://gitlab.com/notechain/front-end-generator">NoteChain front-end-generator</a>, I found in contract.js that he sets <code>gasPrice = Math.pow(10,9)</code> (Math.pow is exponentiation, call equates to 10<sup>9</sup>), and MetaMask informs me that I need at least 21000 gas to perform the transaction.</p>

<p>I&rsquo;m not exactly sure why though, as on the mainnet deployment you don&rsquo;t need to pay to read a note, this might have something to do with the contract&rsquo;s value (as reported by Etherscan as Vale: $1.02/Balance: 0.0038 Ether) &mdash; I&rsquo;ll have to look into this further.</p>

<p>The returned value is Hexadecimal, padding with 0&rsquo;s, which we can convert to ASCII with <code>_web3.utils.hexToAscii(hexValue)</code>, this returns the value, and all padded 0&rsquo;s (which were added when we converted the string into a bytesX object of X length.</p>

<hr>


<h2>Looking Good</h2>

<p>Setting the default <a href="https://web3js.readthedocs.io/en/1.0/web3-shh.html#web3-module-defaultgasprice">gas and gasPrice</a>, means that we getPass runs without a problem, and we don&rsquo;t have to pay</p>

<p><code>hexToAscii()</code> also strips trailing blank characters automatically as well, so that&rsquo;s something else that I don&rsquo;t need to worry about</p>

<p><a href="../demos/0.3/">View a live demo</a>, which is still writing/reading to the blockchain in plaintext</p>

<p>Things I still need to do</p>

<ul>
<li>Encrypt passwords</li>
<li>Work out communications with the <a href="https://medium.com/@writeprovidence/how-to-create-a-web3-provider-from-another-extension-6b5ea59ed4c9">MetaMask extension</a></li>
<li><a href="https://medium.com/coinmonks/ethereum-setting-up-a-private-blockchain-67bbb96cf4f1">Host a live testnet</a>, which I can host a copy of the contract on, which the Beta release of the extension can use for distribution</li>
<li>Write webpage autofilling function</li>
<li>Technical documentation</li>
<li>Other documentation&hellip;</li>
</ul>

<hr>
<p>Published: 2019-06-21</p>
<p><a href="index.html">Go Back</a></p>
</body>
</html>
